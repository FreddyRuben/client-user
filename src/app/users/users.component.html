<p class="fs-1 text-center">Users</p>

<form class="container col-3 border rounded p-3 mb-3" [formGroup]="createForm" (ngSubmit)="createUser()">
  <div class="mb-3">
    <!-- <label for="exampleInputEmail1" class="form-label">Username</label> -->
    <input class="form-control" aria-describedby="emailHelp" type="text" formControlName="user_name" placeholder="Username">
  </div>
  <div class="mb-3">
    <!-- <label for="exampleInputPassword1" class="form-label">First Name</label> -->
    <input type="text" class="form-control" formControlName="first_name" placeholder="First Name">
  </div>
  <div class="mb-3">
    <!-- <label for="exampleInputPassword1" class="form-label">Last Name</label> -->
    <input type="text" class="form-control" formControlName="last_name" placeholder="Last Name">
  </div>
  <div class="mb-3">
    <!-- <label for="exampleInputPassword1" class="form-label">Age</label> -->
    <input type="number" class="form-control" formControlName="age" placeholder="Age">
  </div>
  <button type="submit" class="btn btn-primary container">Submit</button>
</form>

  <table class="table table-striped text-center container">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Username</th>
        <th scope="col">Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Age</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <!-- <th scope="row">1</th> -->
        <td>{{user._id}}</td>
        <td>{{user.user_name}}</td>
        <td>{{user.first_name}}</td>
        <td>{{user.last_name}}</td>
        <td>{{user.age}}</td>
        <td>
          <button (click)="selectUser(user)" type="button" class="btn btn-success me-2">Edit</button>
          <button (click)="deleteUser(user._id)" type="button" class="btn btn-danger">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="selectedUserId">
    <p class="fs-1 text-center">Edit User</p>
    <form class="container col-3 border rounded p-3 mb-3" [formGroup]="updateForm" (ngSubmit)="updateUser()">
      <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label">Username</label>
        <input class="form-control" aria-describedby="emailHelp" type="text" formControlName="user_name">
      </div>
      <div class="mb-3">
        <label for="exampleInputPassword1" class="form-label">First Name</label>
        <input type="text" class="form-control" formControlName="first_name">
      </div>
      <div class="mb-3">
        <label for="exampleInputPassword1" class="form-label">Last Name</label>
        <input type="text" class="form-control" formControlName="last_name">
      </div>
      <div class="mb-3">
        <label for="exampleInputPassword1" class="form-label">Age</label>
        <input type="number" class="form-control" formControlName="age">
      </div>
      <button type="submit" class="btn btn-secondary me-2">Update</button>
      <button type="submit" class="btn btn-danger ">Cancel</button>
    </form>
</div>